(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{560:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(5155),l=t(8765),a=t(9910),i=t(854),c=t(1847);let n=(0,c.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var d=t(2529),o=t(6132);let x=(0,c.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),m=(0,c.A)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),h=(0,c.A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var u=t(2115),g=t(5704);function b(){let{user:e,loading:s,handleLoginSuccess:t,handleRefreshStatus:c,handleLogout:b}=(0,i.A)(),[p,y]=(0,u.useState)(""),[j,N]=(0,u.useState)(!1),[f,v]=(0,u.useState)(""),[w,k]=(0,u.useState)(""),A=async e=>{if(e.preventDefault(),!p.trim()){k("error"),v("请输入视频链接");return}N(!0),v(""),k("");try{let e=g.env.NEXT_PUBLIC_API_URL||"http://localhost:8096/api/v1",t=await fetch("".concat(e,"/submit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:p,title:"",description:"",operationType:"1",subtitles:[],playlistId:"",timestamp:new Date().toISOString(),savedAt:new Date().toISOString()})}),r=await t.json();if(r.success){var s;k("success"),v("视频链接已成功提交！".concat((null==(s=r.data)?void 0:s.isExisting)?"(更新了现有记录)":"")),y("")}else k("error"),v(r.message||"提交失败，请重试")}catch(e){console.error("提交失败:",e),k("error"),v("网络错误，请检查后端服务是否正常运行")}finally{N(!1)}};return s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-block w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"加载中..."})]})}):e?(0,r.jsx)(l.A,{user:e,onLogout:b,children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"多平台视频下载"}),(0,r.jsx)("p",{className:"text-gray-600",children:"支持 YouTube、Bilibili、Twitter、TikTok 等多个平台的视频下载"})]}),(0,r.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"video-url",className:"block text-sm font-medium text-gray-700 mb-2",children:"视频链接"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"video-url",type:"url",value:p,onChange:e=>y(e.target.value),placeholder:"请输入视频链接，如：https://www.youtube.com/watch?v=...",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors",disabled:j}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:p.trim()&&(0,r.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:p.includes("youtube.com")||p.includes("youtu.be")?"YouTube":p.includes("bilibili.com")?"Bilibili":p.includes("twitter.com")||p.includes("x.com")?"Twitter/X":p.includes("tiktok.com")?"TikTok":p.includes("instagram.com")?"Instagram":"未知平台"})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:j||!p.trim(),className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"提交中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{className:"w-5 h-5 mr-2"}),"提交下载"]})})]}),f&&(0,r.jsxs)("div",{className:"mt-4 p-4 rounded-lg flex items-center ".concat("success"===w?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:["success"===w?(0,r.jsx)(d.A,{className:"w-5 h-5 mr-2 text-green-600"}):(0,r.jsx)(o.A,{className:"w-5 h-5 mr-2 text-red-600"}),f]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(x,{className:"w-5 h-5 mr-2 text-blue-600"}),"支持的视频平台"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(m,{className:"w-5 h-5 text-red-600"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"YouTube"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h,{className:"w-5 h-5 text-blue-600"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Bilibili"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(x,{className:"w-5 h-5 text-blue-400"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Twitter/X"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h,{className:"w-5 h-5 text-purple-600"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"TikTok"})]})]}),(0,r.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:"基于 yt-dlp 技术，支持超过 1000+ 个视频网站的下载。提交后系统将自动识别平台并开始下载处理。"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"管理功能"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("a",{href:"/dashboard",className:"flex items-center justify-center px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,r.jsx)(h,{className:"w-5 h-5 mr-2"}),"任务队列"]}),(0,r.jsxs)("a",{href:"/schedule",className:"flex items-center justify-center px-4 py-3 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[(0,r.jsx)(n,{className:"w-5 h-5 mr-2"}),"定时上传"]}),(0,r.jsxs)("a",{href:"/extension",className:"flex items-center justify-center px-4 py-3 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors",children:[(0,r.jsx)(x,{className:"w-5 h-5 mr-2"}),"浏览器插件"]}),(0,r.jsxs)("a",{href:"/settings",className:"flex items-center justify-center px-4 py-3 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsx)(h,{className:"w-5 h-5 mr-2"}),"设置"]})]})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bili-Up Web"}),(0,r.jsx)("p",{className:"text-gray-600",children:"多平台视频下载与管理平台"})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg",children:(0,r.jsx)(a.A,{onLoginSuccess:t,onRefreshStatus:c})})]})})})}},3362:(e,s,t)=>{Promise.resolve().then(t.bind(t,560))},6132:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}},e=>{e.O(0,[937,419,441,255,358],()=>e(e.s=3362)),_N_E=e.O()}]);